const modalFeedback = document.querySelector(".modal-feedback"); if (modalFeedback) {
  const linkHelp = document.querySelector(".help-btn"); const feedbackClose = modalFeedback.querySelector(".feedback-close"); const feedbackName = modalFeedback.querySelector(".your-name"); const feedbackEmail = modalFeedback.querySelector(".your-email"); const btnSend = modalFeedback.querySelector(".btn-send-letter"); let isStorageSupport = !0; let storage = ""; try { storage = localStorage.getItem("name") } catch (error) { isStorageSupport = !1 }
  linkHelp.addEventListener("click", function (evt) { evt.preventDefault(); modalFeedback.classList.add("modal-show"); if (storage) { feedbackName.value = storage; feedbackEmail.focus() } else { feedbackName.focus() } }); btnSend.addEventListener("click", function (evt) { if (!feedbackName.value || !feedbackEmail.value) { evt.preventDefault(); modalFeedback.classList.add("modal-error") } else { if (isStorageSupport) { localStorage.setItem("name", feedbackName.value) && ("email", feedbackEmail.value) } } }); feedbackClose.addEventListener("click", function (evt) { evt.preventDefault(); modalFeedback.classList.remove("modal-show"); modalFeedback.classList.remove("modal-error") }); window.addEventListener("keydown", function (evt) { if (evt.keyCode === 27) { if (modalFeedback.classList.contains("modal-show")) { evt.preventDefault(); modalFeedback.classList.remove("modal-show"); modalFeedback.classList.remove("modal-error") } } })
}
const modalMap = document.querySelector(".modal-map"); if (modalMap) { const mapLink = document.querySelector(".contacts-link"); const mapClose = modalMap.querySelector(".map-close"); mapLink.addEventListener("click", function (evt) { evt.preventDefault(); modalMap.classList.add("modal-show") }); mapClose.addEventListener("click", function (evt) { evt.preventDefault(); modalMap.classList.remove("modal-show") }); window.addEventListener("keydown", function (evt) { if (evt.keyCode === 27) { if (modalMap.classList.contains("modal-show")) { evt.preventDefault(); modalMap.classList.remove("modal-show") } } }) }
const addProduct = document.querySelector(".modal-add-product"); if (addProduct) { const btnBuys = document.querySelectorAll(".btn-buy"); const addProductClose = addProduct.querySelector(".add-product-close"); for (let btnBuy of btnBuys) { btnBuy.addEventListener("click", function (evt) { evt.preventDefault(); addProduct.classList.add("modal-show") }) }; addProductClose.addEventListener("click", function (evt) { evt.preventDefault(); addProduct.classList.remove("modal-show") }); window.addEventListener("keydown", function (evt) { if (evt.keyCode === 27) { if (addProduct.classList.contains("modal-show")) { evt.preventDefault(); addProduct.classList.remove("modal-show") } } }) }
